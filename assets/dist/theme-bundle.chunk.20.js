(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{641:function(a,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var e=r(95),n=r(1),d=r.n(n),i=r(9),s=function(){function a(){}var t=a.prototype;return t.onReady=function(){var a=d()("[data-brands-list]");if(a.length>0){var t=d()(document.getElementById(a.data("azbrands")));t.length>0&&(this.generateAZBrands(t),this.updateAZBrands(a,t));var r=a.data("brands-list-next");r&&this.loadMoreBrands(a,r,!0)}},t.generateAZBrands=function(a){var t=a.attr("id")+"Table",r=d()("#"+t);r.append('<li data-letter=""><a href="#">All</a></li>');for(var e=97;e<=123;e++){var n="#";e<123&&(n=String.fromCharCode(e)),a.append('<div class="azBrands-group" data-letter="'+n+'" id="azBrands-code-'+e+'"><h3 class="azBrands-group-title">'+n+'</h3><ul class="brandGrid"></ul><p class="azBrands-group-topLink"><a href="#topOfPage">Top of Page</a></p></div>'),r.append('<li data-letter="'+n+'"><a href="#azBrands-code-'+e+'" data-target="azBrands-code-'+e+'">'+n+"</a></li>")}a.children().addClass("is-active"),r.children().first().addClass("is-active"),r.on("click","a",(function(t){t.preventDefault();var e=d()(t.target);r.children("li").removeClass("is-active"),e.addClass("is-active");var n=e.data("target");n?(a.children(".azBrands-group").removeClass("is-active"),a.children("#"+n).addClass("is-active")):a.children(".azBrands-group").addClass("is-active")}))},t.updateAZBrands=function(a,t){var r=d()("#"+t.attr("id")+"Table");a.children(".brand").each((function(a,e){var n=d()(e),i=String(n.data("brand-code")),s=i.charAt(0).toLowerCase(),o=t.children("[data-letter="+s+"]");0===o.length&&(o=t.children().last());var l=r.children("[data-letter="+s+"]");0===l.length&&(l=r.children().last());var c,p=o.find(".brandGrid");p.children(".brand").each((function(a,t){var r=d()(t),e=r.data("brand-code");if(!(i<e))return!1;c=r})),c?n.insertAfter(c):n.appendTo(p)}))},t.loadMoreBrands=function(a,t,r){var e=this;i.b.api.getPage(t,{template:"papa-supermarket/brands/brands-list",config:{brands:{limit:100}}},(function(t,n){var i=d()(n).find("[data-brands-list]");a.append(i.children());var s=d()(document.getElementById(a.data("azbrands")));s.length>0&&e.updateAZBrands(a,s);var o=i.data("brands-list-next");o&&r&&e.loadMoreBrands(a,o,r)}))},a}();var o=function(a){var t,r;function e(){return a.apply(this,arguments)||this}return r=a,(t=e).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,e.prototype.onReady=function(){"aztable"===this.context.themeSettings.brandspage_layout&&(new s).onReady()},e}(e.a)}}]);
//# sourceMappingURL=theme-bundle.chunk.20.js.map
